# Repository Guidelines

## Project Structure & Module Organization
- Root contains `symnmf.py`, `analysis.py`, `setup.py`, `Makefile`, and the automated `tester.py` harness.
- Reusable C sources live in `src/` (e.g., `symnmf_algo.c`, `matrix_ops.c`) with shared headers under `include/`.
- Place build artifacts (`symnmf` binary, `symnmf_c.*.so`) in `build/` or the project root and keep them out of version control.
- Store sample datasets and smoke scripts in `tests/`, matching the CSV-style format consumed by the tools.

## Dependencies & Tooling
- Do **not** install new Python or C libraries; rely solely on what ships with the environment (Python stdlib, existing system headers, any preinstalled NumPy/Sklearn).
- If a required module is missing, surface the issue to maintainers instead of adding packages or altering system configs.
- do **not** use NumPy C API

## Build, Test, and Development Commands
- `python3 setup.py build_ext --inplace` — compile the `symnmf_c` Python extension for local use.
- `make` — build the `symnmf` C executable using the mandated `-ansi -Wall -Wextra -Werror -pedantic-errors` flags.
- `python3 symnmf.py 3 symnmf sample.txt` — exercise the Python CLI end-to-end (adjust `k`, goal, and dataset as needed).
- `python3 tester.py` — run the official integration suite, including Valgrind memory checks when enabled.

## Coding Style & Naming Conventions
- Python: follow PEP 8, 4-space indentation, descriptive `snake_case` (`init_h`, `compute_w`).
- C: ANSI C (C90) compatible code, 4-space indentation, `snake_case` for functions and `SCREAMING_SNAKE_CASE` for constants/macros.
- C:  newline at end of file [-Werror,-Wnewline-eof].
- Format floating-point output with `"%.4f"`; keep function implementations within the assignment’s 40-line guideline.

## Testing Guidelines
- Use fixtures in `tests/` and the random datasets generated by `tester.py` to validate each goal.
- Confirm both entry points—`./symnmf goal file.txt` and `python3 symnmf.py k goal file.txt`—produce identical matrices.
- Add lightweight verification scripts under `tests/` when introducing new logic; enforce numerical tolerances within `1e-4`.

## Commit & Pull Request Guidelines
- Craft short, imperative commit titles (`Add norm matrix helper`) with optional detail in the body.
- Pull requests should outline affected modules, list validation commands (e.g., `make`, `python3 tester.py`), and note any new datasets.
- Document Valgrind results for C changes and call out numerical impacts of algorithmic adjustments.
